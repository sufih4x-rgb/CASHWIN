<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <title>CASHWIN - Profile</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root { --p-red: #ff6b6b; --gradient: linear-gradient(180deg, #ff8e8e 0%, #ff5252 100%); }
        body { background: #f8f9fe; font-family: 'Segoe UI', sans-serif; margin: 0; padding-bottom: 80px; }
        
        .profile-header { background: var(--gradient); padding: 40px 20px 60px; color: white; border-radius: 0 0 25px 25px; position: relative; }
        .user-info { display: flex; align-items: center; gap: 15px; }
        .avatar { width: 75px; height: 75px; border-radius: 50%; border: 3px solid rgba(255,255,255,0.3); }
        .user-details h2 { margin: 0; font-size: 20px; display: flex; align-items: center; gap: 8px; }
        .vip-img { width: 45px; cursor: pointer; transition: 0.2s; }
        .vip-img:active { transform: scale(0.9); }
        .uid-tag { background: rgba(255,255,255,0.2); padding: 3px 12px; border-radius: 12px; font-size: 12px; margin-top: 5px; display: inline-block; }

        .wallet-card { background: white; margin: -40px 15px 15px; border-radius: 20px; padding: 20px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); }
        .wallet-grid { display: grid; grid-template-columns: repeat(4, 1fr); text-align: center; margin-bottom: 20px; }
        .wallet-item i { font-size: 24px; display: block; margin-bottom: 8px; }
        .balance-section { display: flex; justify-content: space-around; border-top: 1px solid #f5f5f5; padding-top: 15px; }
        .bal-box { text-align: center; width: 50%; }
        .bal-box h3 { margin: 5px 0; font-size: 18px; color: #333; }

        .menu-list { background: white; margin: 15px; border-radius: 15px; overflow: hidden; }
        .menu-item { display: flex; align-items: center; padding: 16px; border-bottom: 1px solid #f9f9f9; cursor: pointer; }
        .menu-item i { width: 30px; font-size: 18px; }
        .menu-item span { flex: 1; font-size: 14px; color: #444; }

        /* Floating Admin Chat */
        .admin-chat { position: fixed; bottom: 90px; right: 20px; background: white; border-radius: 50%; width: 55px; height: 55px; display: flex; justify-content: center; align-items: center; box-shadow: 0 4px 10px rgba(0,0,0,0.1); border: 2px solid var(--p-red); z-index: 100; }
        
        .bottom-nav { position: fixed; bottom: 0; width: 100%; background: white; display: flex; justify-content: space-around; padding: 12px 0; border-top: 1px solid #eee; }
        .nav-link { text-align: center; color: #999; text-decoration: none; font-size: 11px; }
        .nav-link.active { color: var(--p-red); }
        .nav-link i { display: block; font-size: 20px; margin-bottom: 3px; }
    </style>
</head>
<body>

    <div class="profile-header">
        <div class="user-info">
            <img src="https://i.ibb.co/m099v7m/avatar.png" class="avatar">
            <div class="user-details">
                <h2><span id="uName">MemberF8Y11</span> <img id="vipIcon" src="" class="vip-img" onclick="location.href='vip.html'"></h2>
                <div class="uid-tag">UID | <span id="uID">146588</span> <i class="far fa-copy"></i></div>
                <p style="font-size: 10px; margin-top:5px; opacity:0.8;">Last login: 2025-12-29 02:17:45</p>
            </div>
        </div>
    </div>

    <div class="wallet-card">
        <div class="wallet-grid">
            <div class="wallet-item" onclick="location.href='wallet.html'"><i class="fas fa-wallet" style="color:#ff6b6b"></i>Wallet</div>
            <div class="wallet-item" onclick="location.href='deposit.html'"><i class="fas fa-plus-circle" style="color:#ffb84d"></i>Deposit</div>
            <div class="wallet-item" onclick="location.href='withdraw.html'"><i class="fas fa-minus-circle" style="color:#4d94ff"></i>Withdraw</div>
            <div class="wallet-item" onclick="location.href='vip.html'"><i class="fas fa-gem" style="color:#2ecc71"></i>VIP</div>
        </div>
        <div class="balance-section">
            <div class="bal-box" style="border-right: 1px solid #eee;">
                <p style="font-size:12px; color:#888;">Available balance</p>
                <h3>₹<span id="uBalance">0.00</span></h3>
            </div>
            <div class="bal-box">
                <p style="font-size:12px; color:#888;">Freeze balance</p>
                <h3>₹0.00</h3>
            </div>
        </div>
    </div>

    <div class="menu-list">
        <div class="menu-item"><i class="fas fa-envelope" style="color:#ffb84d"></i><span>Message</span><i class="fas fa-chevron-right" style="color:#eee"></i></div>
        <div class="menu-item"><i class="fas fa-shield-alt" style="color:#2ecc71"></i><span>BGCash</span><i class="fas fa-chevron-right" style="color:#eee"></i></div>
        <div class="menu-item" onclick="location.href='safe.html'"><i class="fas fa-vault" style="color:#f1c40f"></i><span>Safe</span><i class="fas fa-chevron-right" style="color:#eee"></i></div>
    </div>

    <div class="admin-chat" onclick="location.href='support.html'">
        <img src="https://cdn-icons-png.flaticon.com/512/3799/3799933.png" width="30">
    </div>

    <div class="bottom-nav">
        <a href="index.html" class="nav-link"><i class="fas fa-home"></i>Home</a>
        <a href="promotion.html" class="nav-link"><i class="fas fa-gift"></i>Promotion</a>
        <a href="agent.html" class="nav-link"><i class="fas fa-users"></i>Agent</a>
        <a href="account.html" class="nav-link active"><i class="fas fa-user"></i>Account</a>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

        const firebaseConfig = { /* Your Config */ };
        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);
        const userPhone = localStorage.getItem('userPhone') || '9117748052';

        onValue(ref(db, 'users/' + userPhone), (snap) => {
            const u = snap.val();
            if(u) {
                document.getElementById('uBalance').innerText = (u.balance || 0).toFixed(2);
                document.getElementById('uID').innerText = u.uid || "146588";
                document.getElementById('uName').innerText = u.username || "Member";
                // VIP Icon Auto Change
                document.getElementById('vipIcon').src = `https://i.postimg.cc/mD3mX6zK/vip${u.vip || 0}.png`;
            }
        });
    </script>
</body>
</html>
